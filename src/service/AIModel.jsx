import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap Budget, give me a hotels option list with hotel name, hotel address, price, hotel image url, geo coordinates, rating, descriptions, and suggest an itinerary with the time at each place (i.e. 1:00 PM - 4:00 PM), place name, place details, place image url, geo coordinates, ticket pricing, rating, and time to travel to each location for 3 days with each day plan with best time to visit in JSON format. For the days for the itinerary, in JSON format, make sure that it is indexed in a list, so index 0 would have day: Day 1, index 1 would have day: Day 2, and the same for the rest of the days."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"location\": \"Las Vegas\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n    \"hotels\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Starting at $40/night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/01/5d/85/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1440,\n        \"longitude\": -115.1699\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment.  Features a large casino, free circus acts, and the Adventuredome indoor theme park.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n        \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"Starting at $50/night\",\n        \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/c3/1c/43/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.0983,\n          \"longitude\": -115.1703\n        },\n        \"rating\": 4.0,\n        \"description\": \"A medieval-themed hotel known for its castle design and affordable accommodations. Offers several dining options, a pool complex, and nightly shows.\"\n    },\n    {\n        \"hotel_name\": \"The LINQ Hotel + Experience\",\n        \"hotel_address\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"Starting at $60/night\",\n        \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/c9/c9/2e/the-linq-hotel-experience.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1171,\n            \"longitude\": -115.1691\n        },\n        \"rating\": 4.2,\n        \"description\":\"Modern hotel with a vibrant atmosphere, featuring a variety of shops, restaurants, and the High Roller observation wheel. Centrally located on the Strip.\"\n    }\n  ],\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1\",\n        \"best_time_to_visit\": \"Morning and Afternoon\",\n          \"activities\": [\n            {\n              \"time\": \"9:00 AM - 11:00 AM\",\n              \"place_name\": \"Welcome to Las Vegas Sign\",\n              \"place_details\": \"Iconic Las Vegas landmark, great for photos. Quick stop.\",\n              \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Welcome_to_Las_Vegas_sign.jpg/1280px-Welcome_to_Las_Vegas_sign.jpg\",\n              \"geo_coordinates\": {\n                  \"latitude\": 36.0824,\n                  \"longitude\": -115.1723\n                },\n              \"ticket_pricing\": \"Free\",\n              \"rating\": 4.5,\n                \"travel_time_to_next_location\": \"15 minutes by Bus\"\n             },\n             {\n                \"time\": \"11:30 AM - 2:00 PM\",\n                \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n                \"place_details\": \"Beautiful indoor botanical garden with seasonal displays. Free to enter.\",\n                \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/a5/8b/1a/bellagio-conservatory-botanical.jpg?w=700&h=-1&s=1\",\n                \"geo_coordinates\": {\n                    \"latitude\": 36.1126,\n                    \"longitude\": -115.1738\n                },\n                \"ticket_pricing\": \"Free\",\n                \"rating\": 4.7,\n                \"travel_time_to_next_location\":\"10 minute walk\"\n            },\n            {\n               \"time\":\"2:10 PM - 4:00 PM\",\n               \"place_name\": \"Fountains of Bellagio\",\n               \"place_details\":\"World-famous water show in front of the Bellagio Hotel. Best viewed from the street.\",\n               \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/64/66/54/fountains-of-bellagio.jpg?w=700&h=-1&s=1\",\n               \"geo_coordinates\": {\n                \"latitude\": 36.1128,\n                \"longitude\": -115.1741\n            },\n                \"ticket_pricing\": \"Free\",\n                \"rating\": 4.8,\n                \"travel_time_to_next_location\":\"10 minute walk\"\n            },\n            {\n                \"time\":\"4:10 PM - 7:00 PM\",\n                \"place_name\": \"Explore the Strip\",\n                \"place_details\": \"Walk down the Las Vegas Strip, enjoy the free sights, and street performers. Explore the different hotels.\",\n               \"place_image_url\": \"https://www.travelandleisure.com/thmb/qU04dYxY-lX6H8y9uE1hB5B8G8E=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/las-vegas-strip-night-LVSTRIP0421-83662d8f24364378898303b220d2f98c.jpg\",\n                \"geo_coordinates\": {\n                    \"latitude\": 36.1162,\n                    \"longitude\": -115.1730\n                },\n                \"ticket_pricing\":\"Free\",\n                \"rating\": 4.6,\n                 \"travel_time_to_next_location\":\"10 minute walk to restaurant\"\n            },\n            {\n              \"time\": \"7:00 PM - 9:00 PM\",\n              \"place_name\":\"Cheap Dinner on the Strip\",\n               \"place_details\":\"Look for affordable eats on the Strip, such as fast food or food court options.\",\n               \"place_image_url\":\"https://fastly.4sqi.net/img/general/600x600/5039373_i_V_Hw-t_eJ84FhBf-K8oB-YdO-tZ8VlP9O64Qv269k.jpg\",\n                \"geo_coordinates\": {\n                  \"latitude\": 36.1162,\n                   \"longitude\": -115.1730\n                },\n              \"ticket_pricing\":\"Varies ($10-20 per person)\",\n                \"rating\": 4.0,\n               \"travel_time_to_next_location\":\"Bus ride back to hotel (15-20 min)\"\n            }\n         ]\n      },\n      {\n        \"day\": \"Day 2\",\n        \"best_time_to_visit\": \"Morning and Afternoon\",\n        \"activities\": [\n          {\n            \"time\": \"9:00 AM - 11:00 AM\",\n            \"place_name\": \"Fremont Street Experience\",\n            \"place_details\": \"Explore the pedestrian mall, see the Viva Vision light show. (Best at night but still worth a visit in the day).\",\n            \"place_image_url\": \"https://www.vegasexperience.com/wp-content/uploads/2020/07/Fremont-Street-Experience-Day-1024x768.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1707,\n              \"longitude\": -115.1402\n            },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.5,\n             \"travel_time_to_next_location\": \"20 minute drive\"\n          },\n           {\n              \"time\": \"11:20 AM - 1:00 PM\",\n              \"place_name\":\"The LINQ Promenade\",\n              \"place_details\":\"An outdoor shopping, dining, and entertainment district with many unique stores.\",\n               \"place_image_url\":\"https://media.cntraveler.com/photos/582665590f6c575a3e96615d/16:9/w_2560%2Cc_limit/linq-promenade-las-vegas-cr-getty.jpg\",\n              \"geo_coordinates\": {\n                  \"latitude\":36.1170,\n                  \"longitude\": -115.1696\n              },\n              \"ticket_pricing\": \"Free to enter\",\n               \"rating\": 4.4,\n              \"travel_time_to_next_location\":\"10 minute walk\"\n           },\n           {\n              \"time\":\"1:10 PM - 3:00 PM\",\n              \"place_name\":\"High Roller Observation Wheel\",\n              \"place_details\":\"Enjoy fantastic views of the Las Vegas Strip from a giant observation wheel.\",\n                \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/22/6d/89/11/high-roller-observation.jpg?w=700&h=-1&s=1\",\n              \"geo_coordinates\": {\n                 \"latitude\": 36.1167,\n                 \"longitude\": -115.1692\n               },\n              \"ticket_pricing\": \"$28 per person\",\n               \"rating\": 4.6,\n              \"travel_time_to_next_location\": \"5 min walk\"\n           },\n            {\n                \"time\":\"3:10 PM - 5:00 PM\",\n                \"place_name\":\"Explore the LINQ Hotel\",\n                \"place_details\":\"Explore the unique shops and restaurants inside the LINQ Hotel\",\n                \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/99/b4/09/the-linq-hotel-experience.jpg?w=700&h=-1&s=1\",\n                 \"geo_coordinates\": {\n                   \"latitude\": 36.1171,\n                    \"longitude\":-115.1691\n                },\n                 \"ticket_pricing\":\"Free\",\n                \"rating\":4.3,\n                \"travel_time_to_next_location\": \"5 min walk to dinner\"\n            },\n          {\n            \"time\":\"5:10 PM - 7:00 PM\",\n            \"place_name\": \"Dinner at In-N-Out Burger\",\n            \"place_details\": \"Classic West Coast burger chain for a budget-friendly and tasty meal.\",\n            \"place_image_url\":\"https://lh3.googleusercontent.com/p/AF1QipNzM40bV_sQz9n9L8vE0v9Hn9lZ09b0Z8dI_7Y7=s1360-w1360-h1020\",\n            \"geo_coordinates\": {\n               \"latitude\": 36.1112,\n              \"longitude\": -115.1713\n           },\n              \"ticket_pricing\":\"Varies ($10-15 per person)\",\n              \"rating\":4.3,\n             \"travel_time_to_next_location\":\"Bus ride back to hotel (15-20 min)\"\n          }\n        ]\n    },\n      {\n        \"day\": \"Day 3\",\n         \"best_time_to_visit\": \"Morning\",\n        \"activities\": [\n          {\n            \"time\": \"9:00 AM - 11:00 AM\",\n            \"place_name\": \"Visit the M&M's World and Coca-Cola Store\",\n            \"place_details\":\"Located right next to each other, these stores provide fun and interactive shopping experiences.\",\n              \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0b/36/c3/2d/mm-s-world.jpg?w=700&h=-1&s=1\",\n            \"geo_coordinates\": {\n                \"latitude\": 36.1067,\n                \"longitude\": -115.1709\n             },\n            \"ticket_pricing\": \"Free to browse\",\n              \"rating\":4.2,\n              \"travel_time_to_next_location\": \"5 minute walk\"\n\n          },\n          {\n            \"time\":\"11:10 AM - 1:00 PM\",\n            \"place_name\": \"Explore the Venetian Canals\",\n            \"place_details\": \"Walk through the indoor canals of the Venetian Hotel and admire the architecture.\",\n            \"place_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/20/7f/9e/06/gondola-ride-inside-the.jpg?w=700&h=-1&s=1\",\n              \"geo_coordinates\": {\n                  \"latitude\": 36.1212,\n                  \"longitude\":-115.1698\n              },\n            \"ticket_pricing\":\"Free to walk around (Gondola ride extra)\",\n            \"rating\": 4.6,\n            \"travel_time_to_next_location\": \"5 minute walk\"\n          },\n          {\n            \"time\": \"1:10 PM - 2:00 PM\",\n              \"place_name\": \"Lunch at a Food Court\",\n              \"place_details\":\"Grab a final, affordable meal at a food court before heading to the airport.\",\n            \"place_image_url\":\"https://fastly.4sqi.net/img/general/600x600/1443716_Tj-9qT3xL7z_W0aYyvjG-e_kY775jM1j592G-lBf2u8.jpg\",\n              \"geo_coordinates\":{\n                \"latitude\": 36.1212,\n                \"longitude\": -115.1698\n              },\n             \"ticket_pricing\":\"Varies ($10-15 per person)\",\n              \"rating\":4.1,\n               \"travel_time_to_next_location\":\"Travel to Airport\"\n         }\n        ]\n      }\n    ]\n}\n```"},
          ],
        },
      ],
    });


  

